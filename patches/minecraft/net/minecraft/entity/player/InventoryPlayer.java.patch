--- ../src-base/minecraft/net/minecraft/entity/player/InventoryPlayer.java
+++ ../src-work/minecraft/net/minecraft/entity/player/InventoryPlayer.java
@@ -29,9 +29,10 @@
 
 public class InventoryPlayer implements IInventory
 {
-    public final NonNullList<ItemStack> field_70462_a = NonNullList.<ItemStack>func_191197_a(36, ItemStack.field_190927_a);
+    public final NonNullList<ItemStack> field_70462_a = NonNullList.<ItemStack>func_191197_a(9, ItemStack.field_190927_a);
     public final NonNullList<ItemStack> field_70460_b = NonNullList.<ItemStack>func_191197_a(4, ItemStack.field_190927_a);
     public final NonNullList<ItemStack> field_184439_c = NonNullList.<ItemStack>func_191197_a(1, ItemStack.field_190927_a);
+    public final NonNullList<ItemStack> backpackInventory = NonNullList.func_191197_a(1, ItemStack.field_190927_a);
     private final List<NonNullList<ItemStack>> field_184440_g;
     public int field_70461_c;
     public EntityPlayer field_70458_d;
@@ -40,7 +41,7 @@
 
     public InventoryPlayer(EntityPlayer p_i1750_1_)
     {
-        this.field_184440_g = Arrays.<NonNullList<ItemStack>>asList(this.field_70462_a, this.field_70460_b, this.field_184439_c);
+        this.field_184440_g = Arrays.<NonNullList<ItemStack>>asList(this.field_70462_a, this.field_70460_b, this.field_184439_c, this.backpackInventory);
         this.field_70457_g = ItemStack.field_190927_a;
         this.field_70458_d = p_i1750_1_;
     }
@@ -292,7 +293,8 @@
 
         if (itemstack.func_190926_b())
         {
-            itemstack = new ItemStack(item, 0, p_191973_2_.func_77960_j());
+            itemstack = p_191973_2_.func_77946_l(); // Forge: Replace Item clone above to preserve item capabilities when picking the item up.
+            itemstack.func_190920_e(0);
 
             if (p_191973_2_.func_77942_o())
             {
@@ -363,6 +365,13 @@
                 }
             }
         }
+        for (ItemStack is : field_70460_b) // FORGE: Tick armor on animation ticks
+        {
+            if (!is.func_190926_b())
+            {
+                is.func_77973_b().onArmorTick(field_70458_d.field_70170_p, field_70458_d, is);
+            }
+        }
     }
 
     public boolean func_70441_a(ItemStack p_70441_1_)
@@ -444,6 +453,8 @@
                 CrashReportCategory crashreportcategory = crashreport.func_85058_a("Item being added");
                 crashreportcategory.func_71507_a("Item ID", Integer.valueOf(Item.func_150891_b(p_191971_2_.func_77973_b())));
                 crashreportcategory.func_71507_a("Item data", Integer.valueOf(p_191971_2_.func_77960_j()));
+                crashreportcategory.func_189529_a("Registry Name", () -> String.valueOf(p_191971_2_.func_77973_b().getRegistryName()));
+                crashreportcategory.func_189529_a("Item Class", () -> p_191971_2_.func_77973_b().getClass().getName());
                 crashreportcategory.func_189529_a("Item name", new ICrashReportDetail<String>()
                 {
                     public String call() throws Exception
@@ -613,6 +624,17 @@
             }
         }
 
+        for (int k = 0; k < this.backpackInventory.size(); ++k)
+        {
+            if (!((ItemStack)this.backpackInventory.get(k)).func_190926_b())
+            {
+                NBTTagCompound nbttagcompound2 = new NBTTagCompound();
+                nbttagcompound2.func_74774_a("Slot", (byte)(k + 155));
+                ((ItemStack)this.backpackInventory.get(k)).func_77955_b(nbttagcompound2);
+                p_70442_1_.func_74742_a(nbttagcompound2);
+            }
+        }
+
         return p_70442_1_;
     }
 
@@ -621,6 +643,7 @@
         this.field_70462_a.clear();
         this.field_70460_b.clear();
         this.field_184439_c.clear();
+        this.backpackInventory.clear();
 
         for (int i = 0; i < p_70443_1_.func_74745_c(); ++i)
         {
@@ -642,13 +665,17 @@
                 {
                     this.field_184439_c.set(j - 150, itemstack);
                 }
+                else if (j >= 155 && j < this.backpackInventory.size() + 155)
+                {
+                    this.field_184439_c.set(j - 155, itemstack);
+                }
             }
         }
     }
 
     public int func_70302_i_()
     {
-        return this.field_70462_a.size() + this.field_70460_b.size() + this.field_184439_c.size();
+        return this.field_70462_a.size() + this.field_70460_b.size() + this.field_184439_c.size() + this.backpackInventory.size();
     }
 
     public boolean func_191420_l()
@@ -677,6 +704,14 @@
             }
         }
 
+        for (ItemStack itemstack3 : this.backpackInventory)
+        {
+            if (!itemstack3.func_190926_b())
+            {
+                return false;
+            }
+        }
+
         return true;
     }
 
